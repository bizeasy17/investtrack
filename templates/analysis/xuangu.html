{% extends 'base.html' %}
{% load static i18n %}
{% load crispy_forms_tags thumbnail humanize %}

{% block title %}
{% trans '选股结果' %}
{% endblock %}

{% block head %}
{% endblock %}

{% block content %}
<div class="content-wrapper">
    {% comment %} 股票搜索框 {% endcomment %}
    <div class="row flex-grow mb-4">
        <div class="grid-margin stretch-card">
            <!-- <input type="text"  id="searchForAnalysis" class="form-control" placeholder="{% trans '输入股票名称或代码'%}" aria-label="search" aria-describedby="search"> -->
            <input type="hidden" id="hiddenCode" value="000001.SH"><!--real code e.g. 000001 -->
            <input type="hidden" id="hiddenStockName" value="{% trans '上证指数' %}"><!--e.g.平安保险-->
            <input type="hidden" id="hiddenTsCode" value="000001.SH"><!--show code, 000001.SZ-->
        </div>
        
        {% comment %} 策略列表 {% endcomment %}
        <div class="col-lg-12">
            <div class="btn-group btn-group-sm btn-group-toggle" data-toggle="buttons">
                <span class="mt-1 mr-1 small">{% trans '买入策略' %}</span>
                <label class="btn btn-light active">
                    <input type="radio" name="bstrategy" id="jiuzhuan_count_b" autocomplete="off" value="jiuzhuan_count_b" >{% trans '九转买' %}
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="bstrategy" id="junxian25_zhicheng" autocomplete="off" value="junxian25_zhicheng" >{% trans 'MA25支撑' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="bstrategy" id="junxian25_tupo" autocomplete="off" value="junxian25_tupo" checked>{% trans 'MA25突破' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="bstrategy" id="junxian25_zhicheng" autocomplete="off" value="junxian25_zhicheng" >{% trans 'MA60支撑' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="bstrategy" id="junxian25_tupo" autocomplete="off" value="junxian25_tupo" checked>{% trans 'MA60突破' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="bstrategy" id="junxian25_zhicheng" autocomplete="off" value="junxian25_zhicheng" >{% trans 'MA200支撑' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="bstrategy" id="junxian25_tupo" autocomplete="off" value="junxian25_tupo" checked>{% trans 'MA200突破' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="bstrategy" id="w_di" autocomplete="off" value="w_di">{% trans 'W底' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="bstrategy" id="dibu_b" autocomplete="off" value="dibu_b" >{% trans '底部' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="bstrategy" id="tupo_b" autocomplete="off" value="tupo_b" >{% trans '突破' %} 
                </label>
            </div>
        </div>
        <div class="col-lg-12">
            <div class="btn-group btn-group-sm btn-group-toggle" data-toggle="buttons">
                <span class="mt-1 mr-1 small">{% trans '卖出策略' %}</span>
                <label class="btn btn-light ">
                    <input type="radio" name="sstrategy" id="jiuzhuan_count_s" autocomplete="off" value="jiuzhuan_count_s" >{% trans '九转卖' %}
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="sstrategy" id="junxian25_diepo" autocomplete="off" value="junxian25_diepo" >{% trans 'MA25跌破' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="sstrategy" id="junxian25_yali" autocomplete="off" value="junxian25_yali" checked>{% trans 'MA25压力' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="sstrategy" id="junxian60_diepo" autocomplete="off" value="junxian60_diepo" >{% trans 'MA60跌破' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="sstrategy" id="junxian60_yali" autocomplete="off" value="junxian60_yali" checked>{% trans 'MA60压力' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="sstrategy" id="junxian200_diepo" autocomplete="off" value="junxian200_diepo" >{% trans 'MA200跌破' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="sstrategy" id="junxian200_yali" autocomplete="off" value="junxian200_yali" checked>{% trans 'MA200压力' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="sstrategy" id="m_ding" autocomplete="off" value="m_ding">{% trans 'M顶' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="sstrategy" id="dingbu_s" autocomplete="off" value="dingbu_s" >{% trans '顶部' %} 
                </label>
                <label class="btn btn-light ">
                    <input type="radio" name="sstrategy" id="diepo_s" autocomplete="off" value="diepo_s" >{% trans '跌破' %} 
                </label>
            </div>
        </div>
        <div class="col-lg-12 ">
            <span class="mt-1 mr-1 small">{% trans '选股日期' %}</span>
            <div class="btn-group " role="group" aria-label="Button group with nested dropdown">
                <button type="button" class="btn btn-sm btn-light">年份</button>
                <div class="btn-group" role="group">
                    <button id="btnGroupDrop3" type="button" class="btn btn-light dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                    <div class="dropdown-menu small" aria-labelledby="btnGroupDrop3" style="">
                        <a class="dropdown-item small" href="#">2020</a>
                        <a class="dropdown-item small" href="#">2021</a>
                    </div>
                </div>
            </div>

            <div class="btn-group" role="group" aria-label="Button group with nested dropdown">
                <button type="button" class="btn btn-sm btn-light">月份</button>
                <div class="btn-group" role="group">
                    <button id="btnGroupDrop4" type="button" class="btn btn-light dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                    <div class="dropdown-menu small" aria-labelledby="btnGroupDrop4" style="">
                        <a class="dropdown-item small" href="#">1</a>
                        <a class="dropdown-item small" href="#">2</a>
                        <a class="dropdown-item small" href="#">3</a>
                        <a class="dropdown-item small" href="#">4</a>
                        <a class="dropdown-item small" href="#">5</a>
                        <a class="dropdown-item small" href="#">6</a>
                        <a class="dropdown-item small" href="#">7</a>
                        <a class="dropdown-item small" href="#">8</a>
                        <a class="dropdown-item small" href="#">9</a>
                        <a class="dropdown-item small" href="#">10</a>
                        <a class="dropdown-item small" href="#">11</a>
                        <a class="dropdown-item small" href="#">12</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-12">
            <div>
                <ul class="pagination pagination-sm">
                    <li class="page-item active">
                    <a class="page-link" href="#">1</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">2</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">3</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">4</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">5</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">6</a>
                    </li>
                    <li class="page-item active">
                    <a class="page-link" href="#">7</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">8</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">9</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">10</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">11</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">12</a>
                    </li>
                    <li class="page-item active">
                    <a class="page-link" href="#">13</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">14</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">15</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">16</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">17</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">18</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">19</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">20</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">21</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">22</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">23</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">24</a>
                    </li>
                    <li class="page-item active">
                    <a class="page-link" href="#">25</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">26</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">27</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">28</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">29</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">30</a>
                    </li>
                    <li class="page-item">
                    <a class="page-link" href="#">31</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- <hr/> -->
    <div class="row flex-grow">
        <div class="col-lg-12" id="">
            <div>
                <!-- <span id="curAnalysisCond" class="small"></span> -->
                <table class="table table-sm" id="tblStrategyRanking">
                    <thead>
                        <tr class="small">
                            <th scope="col">{% trans '股票' %}</th>
                            <th scope="col">{% trans '最新' %}</th>
                            <th scope="col">{% trans '涨%' %}</th>
                            <th scope="col">{% trans '固定天数内涨幅%' %}</th>
                            <th scope="col">{% trans '达固定涨幅天数' %}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">
                                <div class="">
                                    <div class="card-title small"><a href="#" class="text-dark">000001.SZ</a><span class="small text-muted" id="xxx"></span></div>
                                    <div class="card-subtitle small text-muted"><a href="#" class="text-dark">平安银行</a></div>
                                </div>
                            </th>   
                            <td>
                                <span class="small">25.00
                                </span>
                            </td>
                            <td>
                                <span class="small">2.5%
                                </span>
                            </td>
                            <td>
                                <div class="small row d-none">
                                    <div class="col-sm-2">
                                        <div class="small row">
                                            <div class="col-sm-12 text-dark">{% trans '10天' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-2">
                                        <div class="small row">
                                            <div class="col-sm-12 text-dark">{% trans '20天' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-2">
                                        <div class="small row">
                                            <div class="col-sm-12 text-dark">{% trans '30天' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-2">
                                        <div class="small row">
                                            <div class="col-sm-12 text-dark">{% trans '50天' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-2">
                                        <div class="small row">
                                            <div class="col-sm-12 text-dark">{% trans '80天' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-2 d-none">
                                        <div class="small row">
                                            <div class="col-sm-12">{% trans '130天' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-2 d-none">
                                        <div class="small row">
                                            <div class="col-sm-12">{% trans '210天' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-2 d-none">
                                        <div class="small row">
                                            <div class="col-sm-12">{% trans '350天' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-2 d-none">
                                        <div class="small row">
                                            <div class="col-sm-12">{% trans '560天' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="small row">
                                    <div class="col-lg-12">
                                        <canvas id="updownPctChart" height="150"></canvas>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="small row d-none">
                                    <div class="col-sm-3">
                                        <div class="small row">
                                            <div class="col-sm-12 text-dark">{% trans '10%' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="small row">
                                            <div class="col-sm-12 text-dark">{% trans '20%' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="small row">
                                            <div class="col-sm-12 text-dark">{% trans '30%' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="small row">
                                            <div class="col-sm-12 text-dark">{% trans '50%' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-2 d-none">
                                        <div class="small row">
                                            <div class="col-sm-12">{% trans '80%' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-2 d-none">
                                        <div class="small row">
                                            <div class="col-sm-12">{% trans '100%' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>
                                    </div>
                                    <div class="col-sm-2 d-none">
                                        <div class="small row">
                                            <div class="col-sm-12">{% trans '130%' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">{% trans '25ile' %}</div>
                                            <div class="col-sm-4">{% trans '50ile' %}</div>
                                            <div class="col-sm-4">{% trans '75ile' %}</div>
                                        </div>
                                        <div class="small row">
                                            <div class="col-sm-4">3.4%</div>
                                            <div class="col-sm-4">6.8%</div>
                                            <div class="col-sm-4">13%</div>
                                        </div>    
                                    </div>
                                </div>
                                <div class="small">
                                    <div class="col-lg-12">
                                        <canvas id="targetPctChart" height="150"></canvas>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <nav aria-label="Page navigation">
                    <ul class="pagination">
                        <li class="page-item small"><a class="page-link" href="#prev">{% trans '<< 前25条' %}</a></li>
                        <li class="page-item small"><a class="page-link" href="#next">{% trans '后25条 >>' %}</a></li>
                    </ul>
                </nav>
            </div>
            <div class="d-none" id="stockHist">
                <!-- <input type="button" class="btn btn-sm btn-primary" id="collapseHistCanv" value="{% trans '显示股票历史数据' %}"/> -->
                <!-- <canvas class="" id="stockHistCanvK" height="150"></canvas>  -->
                <canvas class="" id="stockHistCanvC" height="200"></canvas> 
            </div>
            
        </div>    
    </div>
    <input type="hidden"  id="hiddenStrategyCode" value="jiuzhuan_b"/>
    <input type="hidden"  id="hiddenTestType" value="up_pct"/>
    <input type="hidden"  id="hiddenStrategyName" value="{% trans '九转买点(默认)' %} "/>
    <input type="hidden"  id="hiddenStrategyBtnId"/>   
    
    {% comment %} 
    策略分析股票历史数据模拟 
    可选分析周期: 60日，120日，240日
    1. 买入后最大涨幅，最大跌幅（买入策略）
    2. 买入后涨幅达到10%，20%，30%的时间（买入策略）
    3. 卖出后最大涨幅（卖出策略）
    4. 卖出后最大跌幅（卖出策略）
    5. 买入/卖出成功率（历史记录）

    {% endcomment %}
    
    <!-- <div><i class="fa fa-chart-line"></i>{% trans '当前分析策略为 - ' %} </div> -->
</div>
<!-- content-wrapper ends -->
{% endblock content %}

{% block javascript %}
{{ block.super }}
<script type="text/javascript" charset="utf-8">var imgRoot = "{% static 'img/' %}"</script>
{% comment %} 
<script src="https://cdn.bootcss.com/babel-polyfill/7.8.7/polyfill.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/luxon@1.19.3"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.0"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@0.2.0"></script>
<script src="{% static 'js/chartjs-chart-financial.v_0_1_1.js' %}"type="text/javascript"></script>
{% endcomment %}
<script src="{% static 'js/analysis.js' %}" type="text/javascript"></script>
<script src="{% static 'js/xuangu.js' %}" type="text/javascript"></script>


{% endblock javascript %}