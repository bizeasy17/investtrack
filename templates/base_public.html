{% load static i18n thumbnail %}

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Machine Learning, Deep Learning, 机器学习，股票投资">
  <meta name="author" content="Data Science Digitalization Lab - DSDL">

  <title>{% block title %}{% trans '投呗' %}{% endblock title %}</title>


  <!-- Bootstrap core CSS -->
  {% block css %}

  <link href="{% static 'css/bootstrap.css' %}" rel="stylesheet">
  <link rel="icon" type="image/png" href="{% static 'img/favicon.ico' %}">

  <!-- Custom fonts for this template -->
  <link href="{% static 'vendor/simple-line-icons/css/simple-line-icons.css' %}" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

  <!-- Custom styles for this template -->
  <link href="{% static 'css/landing-page.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet">
  {% endblock css %}

  {% block head %}{% endblock head %}

</head>
<style>
.pb-3, .py-3 {
    padding-bottom: 0.65rem!important;
}
.pt-3, .py-3 {
    padding-top: 0.65rem!important;
}

</style>
<body>

  {% block navbar %}
  {% endblock navbar %}
  {% block content %}
    <p>Use this document as a way to quick start any new project.</p>
  {% endblock content %}
  <!-- Footer -->
<footer class="footer">
  <div class="container">
    <hr class="tight-hr">

    <div class="row">
      <div class="col-lg-6 h-100 text-center text-lg-left my-auto">
        <ul class="list-inline mb-2">
         <li class="list-inline-item">
            <a class="text-secondary" href="#">{% trans '内容不构成任何投资建议' %}</a>
          </li>
           <!-- <li class="list-inline-item">&sdot;</li>
          <li class="list-inline-item">
            <a class="text-secondary" href="#">{% trans '规范' %}</a>
          </li>
          <li class="list-inline-item">&sdot;</li>
          <li class="list-inline-item">
            <a class="text-secondary" href="#">{% trans '隐私' %}</a>
          </li> -->

          <li class="list-inline-item">&sdot;</li>
          <li class="list-inline-item">
           <a class="text-secondary" href="https://waditu.com/">{% trans '数据来自挖地兔'%}</a>
          </li>
          <li class="list-inline-item">&sdot;</li>
          <li class="list-inline-item">
            <a class="text-secondary" href="http://www.beian.miit.gov.cn/?spm=a2c4g.11186623.2.16.31bf7dc6aTLr4u">{% trans '苏ICP备20021061号-1' %}</a> 
          </li>

        </ul>
        <p class="text-secondary small mb-lg-0">{% trans '版权所有'%} &copy; {% trans '回测BT - Backtesting'%} {% now "Y" %} </p>
      </div>
      <div class="col-lg-6 h-100 text-center text-lg-right my-auto">
        <ul class="list-inline mb-0">
          <li class="list-inline-item mr-3">
            <a href="https://www.linkedin.com/in/%E6%8D%B7-jay-%E9%9F%A9-48424138/">
              <i class="fab fa-linkedin fa-2x fa-fw"></i>
            </a>
          </li>
          <li class="list-inline-item mr-3">
            <img src="{% static 'img/1593927687078.png' %}" height="85" width="85" style="border-radius: 1%;" class="mr-1">
          </li>
          <!-- <li class="list-inline-item">
            <a href="#">
              <i class="fab fa-weibo fa-2x fa-fw"></i>
            </a>
          </li> -->
          
        </ul>
      </div>
    </div>
  </div>
</footer>

  <!-- Bootstrap core JavaScript -->
  {% block javascript %}
  <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
  <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <!-- <script src="{% static 'vendor/bootstrap/js/bootstrap.min.js' %}" type="text/javascript"></script> -->

  <script src="https://cdn.jsdelivr.net/gh/xcash/bootstrap-autocomplete@v2.3.7/dist/latest/bootstrap-autocomplete.min.js"></script>
  <!-- <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script> -->
  <!-- <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script> -->
  <!-- <script src="https://cdn.jsdelivr.net/gh/xcash/bootstrap-autocomplete@v2.3.7/dist/latest/bootstrap-autocomplete.min.js"></script> -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@4/dist/echarts.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@beta/dist/js.cookie.min.js"></script>
  <script src="{% static 'js/common.js' %}" type="text/javascript"></script>
  
  <script language="javascript">
    var currentUser = "{{ request.user.username }}"
    var csrftoken = Cookies.get('csrftoken');
    var authBaseEndpoint = '/account/'; 
    var loginEndpoint = '{% url "account:login" %}';

    var homeEndpoint = '{% url "search:home" %}';

    function formatDate(date, conn) {
      var dayNames = [
          "01", "02", "03",
          "04", "05", "06", "07",
          "08", "09", "10",
          "11", "12", "13", "14",
          "15", "16", "17", "18",
          "19", "20", "21", "22",
          "23", "24", "25", "26",
          "27", "28", "29", "30", "31"
      ];

      var monthNames = [
          "01", "02", "03",
          "04", "05", "06", "07",
          "08", "09", "10",
          "11", "12"
      ];

      var dayIndex = date.getDate();
      var monthIndex = date.getMonth();
      var year = date.getFullYear();

      return year + conn + monthNames[monthIndex] + conn + dayNames[dayIndex - 1];
    }

    var logout = function(event) {
      event.preventDefault();
      $.ajax({
        url: authBaseEndpoint + 'logout/',
        enctype: 'multipart/form-data',
        headers: { 'X-CSRFToken': csrftoken },
        method: 'POST',
        processData: false,
        contentType: false,
        // dataType: 'json',
        // data: formData,
        success: function (data) {
            if(data.code=="ok"){
              window.location.href = "/";
            }else{
              alert("系统错误，请稍后再试");
            }
        },
        statusCode: {
            403: function () {
                $("#messageText").html('<strong>403 forbidden</strong>.');
            },
            404: function () {
                $("#messageText").html('<strong>404 page not found</strong>.');
            },
            500: function () {
                $("#messageText").html('<strong>500 internal server error</strong>.');
            }
        }
      });
    }
    if(document.getElementById("logout")) {
      document.getElementById("logout").addEventListener("click", logout, event);
    }

    $(".navbar-toggler").click(function(){
        if($(this).next().is(":visible")){
            $(this).next().slideUp();
        }else{
            $(this).next().slideDown();
        }
    });

  </script>
  {% endblock javascript %}

</body>

</html>
